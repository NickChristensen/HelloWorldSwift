{"id":"ht-1892615d","content_hash":"50b84332b1ddec1996880d8182a3237dff2459dac48ffc6281d3a8b22d079f8c","title":"Style chart to match Health app design","description":"Refine the chart styling to match the iOS Health app's visual design. This includes colors, typography, spacing, and overall polish.\n\nReferences available in design-reference/ folder:\n- inspiration.png\n- with-additions.png","acceptance_criteria":"- Chart colors match Health app design\n- Typography and spacing match reference\n- Visual polish complete\n- Design matches reference images","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-16T20:24:45.427546-05:00","updated_at":"2025-11-09T14:15:41.364414-06:00","closed_at":"2025-11-08T22:20:56.040244-06:00","source_repo":".","dependencies":[{"issue_id":"ht-1892615d","depends_on_id":"ht-5ecee007","type":"blocks","created_at":"2025-10-16T20:25:01.738129-05:00","created_by":"nick"}]}
{"id":"ht-3938e6b5","content_hash":"9aad69eca1ec146b46b16b008b1efd9cf86c10f9732a85921459fcb36d15b9a4","title":"Render Swift Chart in widget timeline","description":"Integrate the Swift Chart visualization into the widget timeline. Reuse existing EnergyChartView code from the main app.\n\nRequirements:\n- Render chart in widget views\n- Update timeline (every 15 min or hourly)\n- Optimize for widget performance\n- Handle all widget size variants","acceptance_criteria":"- Chart renders in widget\n- Timeline updates appropriately\n- Performance is acceptable\n- All widget sizes supported","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-16T20:24:45.584188-05:00","updated_at":"2025-11-09T14:15:41.365348-06:00","source_repo":".","dependencies":[{"issue_id":"ht-3938e6b5","depends_on_id":"ht-c74f12e0","type":"blocks","created_at":"2025-10-16T20:25:01.777775-05:00","created_by":"nick"},{"issue_id":"ht-3938e6b5","depends_on_id":"ht-fjd","type":"blocks","created_at":"2025-11-09T18:32:53.806197-06:00","created_by":"daemon"}]}
{"id":"ht-4o0","content_hash":"d784b2e2828392ec2bef71230c757074787230f7802f96aceda21948b198855c","title":"Move development tools to shake-activated sheet","description":"Implement shake gesture detection to show a bottom sheet containing development tools. The sheet will be triggered by shaking the device and will contain the \"Generate Sample Data\" button.\n\nRequirements:\n- Shake gesture (⌃⌘Z in simulator) triggers sheet\n- Sheet appears from bottom with \"Development Tools\" header\n- Generate Sample Data button works in sheet\n- Sheet dismisses properly\n- Only available in simulator builds (#if targetEnvironment(simulator))","design":"Use UIWindow + NotificationCenter pattern for shake detection:\n- Create ShakeGesture.swift with shake detection infrastructure\n- Add .onShake() modifier to ContentView\n- Present sheet with .presentationDetents([.medium]) for partial sheet\n- Sheet header: \"Development Tools\"\n- Sheet content: Generate Sample Data button","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T18:52:18.713632-06:00","updated_at":"2025-11-09T19:01:12.509379-06:00","closed_at":"2025-11-09T19:01:12.509379-06:00","source_repo":"."}
{"id":"ht-542f646c","content_hash":"1d61aa624b65e8ca25c170f310bf4aa470779eb3103e706c84c7f49232cde1cb","title":"Investigate x-axis label positioning edge cases","description":"The custom x-axis labels use an overlay with calculated positioning for the current hour label. Need to test how this behaves when current hour is close to start/end of day:\n- 1 AM, 2 AM (close to start of day)\n- 10 PM, 11 PM (close to end of day)\n\nLabels might overlap or need special handling in these edge cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T15:45:16.243192-06:00","updated_at":"2025-11-09T14:15:41.365596-06:00","closed_at":"2025-11-08T23:54:52.394982-06:00","source_repo":"."}
{"id":"ht-5ecee007","content_hash":"244146d9f026ecc01b83e91961320cf368d14556edbf14d2badf7df9db8d9aea","title":"Complete Swift Charts integration and commit changes","description":"EnergyChartView has been added to ContentView.swift with chart visualization. Need to test the implementation, update PROJECT_PLAN.md per workflow rules, and commit the changes.\n\nModified files:\n- HelloWorld/ContentView.swift (added EnergyChartView struct)\n- HelloWorld/HealthKitManager.swift (changed mock moveGoal from 1000 to 800)","acceptance_criteria":"- Chart renders correctly in simulator\n- All 4 metrics display properly (Today, Average, Total, Goal)\n- PROJECT_PLAN.md updated with progress\n- Changes committed to git","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-16T20:24:45.370888-05:00","updated_at":"2025-11-09T14:15:41.36382-06:00","closed_at":"2025-11-08T13:44:58.983676-06:00","source_repo":"."}
{"id":"ht-6c384d70","content_hash":"03886d887f6ccaee27cc42ec2d3fbffdd66ceeb010fc884301953ba60b1b1c68","title":"Fix time calculations for current hour data display","description":"We need to fix how we're treating times to fix two bugs, likely closely related:\n\n1. In our Today data series, the current hour (ie when the time is 12:30, the 12pm hour) shows a vertical cliff (upward) on the chart. That would indicate to me that we have two values for the current hour, maybe start of hour and now? We should treat the start of the current hour as the end of our Today data, as the current hour is not finished yet and we don't know where it will finish.\n\n2. In our Average data series, we are showing nothing for the current hour. Ie when the time is 12:30, there is a gap between 12pm and 1pm on the graph","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-09T12:31:55.973698-06:00","updated_at":"2025-11-09T14:15:41.364797-06:00","closed_at":"2025-11-09T13:16:39.734464-06:00","source_repo":"."}
{"id":"ht-7ok","content_hash":"d794c283e23bde3c086288f09f776a408ba273e1b72a503f92c2f0f4d50f4c0a","title":"Create WidgetPreviewContainer component","description":"Build a reusable container that renders content at widget dimensions with proper styling. Includes dynamic size calculation based on screen width, support for medium and large families, corner radius matching widget style, and shadow for visual distinction.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T19:39:25.981288-06:00","updated_at":"2025-11-09T19:40:17.334358-06:00","closed_at":"2025-11-09T19:40:17.334358-06:00","source_repo":"."}
{"id":"ht-9zt","content_hash":"c788a3e62037c5acfaba8bb486aa2561d9e6a1c3d9c60d196efbe7b263bbb086","title":"Refactor magic label widths to use actual text measurements","description":"Currently using hardcoded label widths for collision detection:\n- nowLabelWidth: 50px (for labels like \"6:10 AM\")\n- startEndLabelWidth: 35px (for labels like \"12 AM\")\n\nThese are approximations. Should measure actual text width using SwiftUI's\nGeometryReader or Text measurement APIs for more accurate collision detection.\n\nThis will prevent edge cases where labels might collide or have unnecessary\nspacing due to inaccurate width estimates.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-13T21:00:19.035107-06:00","updated_at":"2025-11-13T21:00:19.035107-06:00","source_repo":"."}
{"id":"ht-c2u","content_hash":"2b42a9454b3c69e1e3a631acd6f401c69defdb0ea7cad82def0511abdb824512","title":"Debug line appearing at or below chart X axis","description":"There is an unwanted line rendering at the bottom of or below the chart X axis that needs to be investigated and removed.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-09T18:29:08.661414-06:00","updated_at":"2025-11-09T18:41:23.509713-06:00","closed_at":"2025-11-09T18:41:23.509713-06:00","source_repo":"."}
{"id":"ht-c74f12e0","content_hash":"947d2aefc35338f31235aec6d6d18755326516eba8336015ecfbb4e884dc485f","title":"Create widget extension for home screen","description":"Add a Widget Extension target to display the energy trends chart on the iOS home screen.\n\nRequirements:\n- Add Widget Extension target in Xcode\n- Set up App Groups for sharing HealthKit data between app and widget\n- Create Widget timeline provider\n- Handle different widget sizes (small/medium/large)","acceptance_criteria":"- Widget Extension target created\n- App Groups configured\n- Timeline provider implemented\n- Widget displays in widget gallery","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-16T20:24:45.518019-05:00","updated_at":"2025-11-09T14:15:41.365052-06:00","source_repo":".","dependencies":[{"issue_id":"ht-c74f12e0","depends_on_id":"ht-1892615d","type":"related","created_at":"2025-10-16T20:25:01.820664-05:00","created_by":"nick"},{"issue_id":"ht-c74f12e0","depends_on_id":"ht-fjd","type":"blocks","created_at":"2025-11-09T18:32:56.282172-06:00","created_by":"daemon"}]}
{"id":"ht-coq","content_hash":"f00ea83f17b4695257982d0b1ef11de9aac66fd7863dafe0a055b02096bff52d","title":"Refactor EnergyTrendView to use flexible layout","description":"Refactor EnergyTrendView and EnergyChartView to use VStack with flexible height distribution:\n- Header with statistics: fixed height\n- Chart: flexible height (takes remaining space)\n- X-axis labels: fixed height\n\nThis will make the view adapt better to different container sizes (especially for widgets).","design":"Use VStack with maxHeight: .infinity on container and chart.\nExtract x-axis labels from overlay into separate fixed-height component.\nRemove hardcoded chart height (chartHeight: CGFloat = 300).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T19:50:58.413223-06:00","updated_at":"2025-11-09T19:55:38.828123-06:00","closed_at":"2025-11-09T19:55:38.828123-06:00","source_repo":"."}
{"id":"ht-ebj","content_hash":"e436a970e83f001e67d6296bfd74fa846c7bcf16186ab3f75828f8fe4b41de87","title":"Discrepancy between Today/Average relative position in graph vs header","description":"There's a potential discrepancy between the relative vertical position of Today/Average on the graph versus the statistics shown in the header.\n\nFor example: sometimes the graph shows Today above Average, but the header shows the opposite (Today \u003c Average).\n\nRoot cause: The header uses the current real-time total, while the graph uses the total as of the beginning of the hour. This creates a mismatch when the values are close and the current hour is still in progress.","acceptance_criteria":"- Graph and header show consistent relative ordering of Today vs Average\n- Either both use current total, or both use beginning-of-hour total\n- Visual representation matches the numeric statistics","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-12T12:43:10.118962-06:00","updated_at":"2025-11-13T21:01:39.974863-06:00","closed_at":"2025-11-13T21:01:39.974863-06:00","source_repo":"."}
{"id":"ht-fjd","content_hash":"fece1cd0db9aa5089a15787dc75af93552ad9ba482f0889926fb2106ceeb425e","title":"Extract header with statistics and chart into reusable view","description":"Move the header with statistics and chart components into a single, reusable view that can be shared between the main app and widgets. This should not include development tools.","design":"Evaluate whether to use an existing view or create a new encapsulating view. The solution should:\n- Combine the header statistics display with the chart\n- Be reusable across the main app and widget contexts\n- Exclude any development tools\n- Follow SwiftUI best practices for view composition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T18:32:40.482182-06:00","updated_at":"2025-11-09T18:39:23.601025-06:00","closed_at":"2025-11-09T18:39:23.601025-06:00","source_repo":"."}
{"id":"ht-rrn","content_hash":"fe226caa628a0920c3d7468313426c1f2398508c0425c7bd7f8f04588e8014ab","title":"Update ContentView to show widget previews","description":"Replace main content with widget preview display. Create vertical stack of preview containers with labels, render EnergyTrendView inside each preview, and pass HealthKit data to previews.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T19:39:26.069606-06:00","updated_at":"2025-11-09T19:40:46.082914-06:00","closed_at":"2025-11-09T19:40:46.082914-06:00","source_repo":".","dependencies":[{"issue_id":"ht-rrn","depends_on_id":"ht-7ok","type":"blocks","created_at":"2025-11-09T19:39:44.236984-06:00","created_by":"daemon"}]}
{"id":"ht-unu","content_hash":"13f78709d67a07fb55cf3c7f5496b77c5b514accac79427a3c28e10ce458a3ab","title":"Total label not aligned with Total line after dynamic height change","description":"The \"Total\" label in the overlay layer is not properly positioned vertically relative to the Total line on the graph. This issue appeared after making the view height dynamic.\n\nThe label should be vertically aligned with the Total line on the chart, but is currently misaligned.","acceptance_criteria":"- Total label is vertically aligned with the Total line on the chart\n- Alignment is maintained across different view heights\n- Label remains properly positioned when view height changes dynamically","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-12T12:36:55.439281-06:00","updated_at":"2025-11-12T14:11:41.169465-06:00","closed_at":"2025-11-12T14:11:41.169465-06:00","source_repo":"."}
